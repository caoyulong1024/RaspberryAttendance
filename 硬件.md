# 一.上手树莓派

##  1.安装系统

### 	1.1 下载链接：

					https://www.raspberrypi.org/software/operating-systems/#raspberry-pi-os-32-bit

### 1.2写入镜像
使用 Win32DiskImager 写入
下载链接：https://wws.lanzous.com/iYSxcka3j5c
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210109161713797.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)


## 2.开启ssh

### 	2.1 没有屏幕

					在SD卡根目录建立一个空白文件，命名为'ssh'，这样可以启用SSH。

### 2.2 有屏幕

					1.在终端输入：sudo raspi-config，然后回车
	
					2.选择 3 Interface Options 回车
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210109161743207.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)


					3.选择第二项ssh
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210109161836930.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)

					4.选择 是 即可开启
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210109161858399.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
## 3.连接wifi（有屏幕直接连就行了）
在SD卡根目录建立:wpa_supplicant.conf，将以下内容放入

	country=CN
	ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
	update_config=1
	
	network={
	ssid="wifi名"
	psk="密码"
	key_mgmt=WPA-PSK
	priority=1
	}
## 4.连接ssh
1.下载 xshell 软件

下载链接：https://dl.softmgr.qq.com/original/net_app/Xshell6_wm_6.0.0204.exe

2.点击左上角新建会话按钮，并将树莓派的ip地址填入主机框中（树莓派需与电脑在同一个网络中），然后点击连接
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111162815386.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
树莓派的ip地址可在路由器的管理页面中找到或者用win10自带的热点
![在这里插入图片描述](https://img-blog.csdnimg.cn/2021011116415149.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
3.输入用户名（默认为pi）
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111164501159.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
4.输入密码（默认为raspberry）
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111164553994.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
点击确定即可
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111164759788.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)


 ## 5.开启vnc
 1.在ssh或者终端中输入 sudo raspi-config 然后按回车

 2.选择第三项 3 Interface Options 然后按回车![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111164918326.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
3.选择第三项 vnc
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111165038947.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
4.选 是 即可
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111165101233.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
## 6.连接vnc
1.下载 vnc viewer
        链接：https://dl.softmgr.qq.com/original/net_app/VNC-Viewer-6.19.715_Windows.exe
 2.点击 file -> new connection
 ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111165445628.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
3.在vnc server 中填入树莓派的ip地址，点击ok
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111165540276.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
4.双击刚才新建的连接，输入用户名和密码（默认用户名pi，密码raspberry），点击ok即可。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111165744427.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)



 # 二.配置摄像头
 1.在ssh或者终端中输入 sudo raspi-config
 2.选择 3 Interface Options
 ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111170556523.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
3.选择第一项 camera
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111170628181.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
4.选择 是 ，然后会要求重启，重启即可。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111170855926.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)

5.在终端中输入 raspistill -o image.jpg 可以拍一张照片作为测试
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111172045381.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
可以在home/pi文件夹中找到
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111172130146.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)


# 三.安装所需库
## 1.更换为国内源以加快下载速度
### 1.1 更换软件更新源
在终端中输入 sudo nano /etc/apt/sources.list
输入
`deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib`
`deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib
`
按ctrl+o保存，ctrl+x退出
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111174510774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
### 1.2 更换系统更新源
在终端中输入 sudo nano /etc/apt/sources.list.d/raspi.list
输入`deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui`
按ctrl+o保存，ctrl+x退出
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111174816350.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)
### 1.3 同步更新源
在终端中输入 sudo apt-get update

### 注意：这两种换源都要做，否则可能会出现依旧使用原来的源的问题。。
## 2.安装pip
在终端中输入`sudo apt-get install python3-pip`即可。
## 3.安装百度sdk和opencv
在终端中输入
`pip3 install baidu-aip`
`pip3 install opencv-python`
即可

# 四.搭建完成了
在终端中打开软件的文件夹，输入`python3 main.py`即可（注意不要漏掉3）。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210111180044163.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21pbGtfcGFyYW1lY2l1bQ==,size_16,color_FFFFFF,t_70)